"use strict";var e=document.querySelector(".main-nav"),t=document.querySelector(".main-nav__menu-button");e.classList.add("main-nav--closed"),e.classList.remove("main-nav--no-js"),t.addEventListener("click",(function(){e.classList.contains("main-nav--closed")?(e.classList.remove("main-nav--closed"),e.classList.add("main-nav--opened")):(e.classList.add("main-nav--closed"),e.classList.remove("main-nav--opened"))}));var o=document.querySelector(".contest__form"),r=document.querySelector(".popup--succes"),n=document.querySelector(".popup--failure");if(o&&r&&n){var s=o.querySelectorAll("[required]");for(f=0;f<s.length;f++)s[f].removeAttribute("required");o.addEventListener("submit",(function(e){var t=!1;for(f=s.length-1;f>=0;f--)console.log(f),s[f].classList.remove("form__warning"),s[f].value||(t=!0,s[f].classList.add("form__warning"),s[f].scrollIntoView());t?(e.preventDefault(),n.classList.add("popup--show")):r.classList.add("popup--show")}));var i=r.querySelector(".popup__submit");i.addEventListener("click",(function(e){e.preventDefault(),r.classList.remove("popup--show")}));var l=n.querySelector(".popup__submit");l.addEventListener("click",(function(e){e.preventDefault(),n.classList.remove("popup--show")})),window.addEventListener("keydown",(function(e){27===e.keyCode&&(e.preventDefault(),(r.classList.contains("popup--show")||n.classList.contains("popup--show"))&&(r.classList.remove("popup--show"),n.classList.remove("popup--show")))}))}var a=document.querySelector(".album");if(a){for(var c=document.querySelector(".popup--photo"),u=c.querySelector(".popup__full-picture"),d=c.querySelector(".popup__download--file"),p=c.querySelector(".popup__download--cancel"),v=a.querySelectorAll(".album__photo-link"),m=a.querySelectorAll(".likes__button"),_=a.querySelectorAll(".likes__count"),L=function(e,t){e.addEventListener("click",(function(e){e.preventDefault(),u.src=t,d.href=t,c.classList.add("popup--show")}))},f=0;f<v.length;f++){var h=v[f].href;L(v[f],h),p.addEventListener("click",(function(e){e.preventDefault(),c.classList.remove("popup--show")}))}var y=function(e,t){e.addEventListener("click",(function(o){o.preventDefault(),e.classList.contains("likes__button--liked")?t.textContent--:t.textContent++,e.classList.toggle("likes__button--liked"),document.activeElement.blur()}))};for(f=0;f<m.length;f++)y(m[f],_[f])}var g=document.querySelector(".photo-editor");if(g){var b=g.querySelectorAll(".photo-editor__tool"),q=g.querySelectorAll(".photo-editor__range"),S=function(e,t){e.addEventListener("click",(function(o){o.preventDefault();for(var r=0;r<b.length;r++)b[r].classList.remove("photo-editor__tool--current"),q[r].classList.remove("photo-editor__range--current");e.classList.add("photo-editor__tool--current"),t.classList.add("photo-editor__range--current"),document.activeElement.blur()}))};for(f=0;f<b.length;f++)S(b[f],q[f])}const E=document.querySelector(".photo-editor__image"),w=document.querySelector(".photo-editor__image-overlay"),k=document.querySelector(".photo-editor__range--crop input"),x=document.querySelector(".photo-editor__range--fill input"),A=document.querySelector(".photo-editor__range--contrast input"),D=document.querySelector(".photo-editor__button--reset"),C=()=>{E.style.transform=`scale(${1+.04*k.value})`},$=()=>{w.style.opacity=.01*x.value},M=()=>{E.style.filter=`contrast(${.015*A.value+.25})`},W=()=>{k.value=0,C(),x.value=0,$(),A.value=50,M()};k.addEventListener("input",C),x.addEventListener("input",$),A.addEventListener("input",M),D.addEventListener("click",W);const T=({targetCssClass:e,workScreenWidthMax:t=1/0,swipeThreshold:o=.3,transitionDuration:r=.7})=>{const n=document.querySelector(`.${e}`);if(!n)return;const s=n.querySelector(".slider__wrapper"),i=n.querySelector(".slider__list"),l=n.querySelectorAll(".slider__item"),a=n.querySelectorAll(".slider__button"),c=a[0],u=a[1],d=n.querySelectorAll(".slider__markers-item");let p=0,v=0,m=0,_=0,L=0,f=0,h=0,y=!1,g=!1,b=!0,q=!0,S=0,E=0;const w=/([-0-9.]+(?=px))/;let k,x,A;const D=()=>{k=l[0].offsetWidth,x=k*o,A=(l.length-1)*k},C=()=>document.documentElement.clientWidth>t,$=(e=0)=>{for(const e of d)e.classList.remove("slider__markers-item--current");d[e].classList.add("slider__markers-item--current")};$();const M=e=>-1!==e.type.search("touch")?e.touches[0]:e,W=()=>{D(),$(p),q&&(i.style.transition=`transform ${r}s ease-out`),i.style.transform=`translate3d(-${p*k}px, 0px, 0px)`,c.classList.toggle("slider__button--disabled",0===p),c.toggleAttribute("disabled",0===p),u.classList.toggle("slider__button--disabled",p===l.length-1),u.toggleAttribute("disabled",p===l.length-1)},T=e=>{if(D(),C())return;let t=M(e);b&&(q=!0,S=(p+1)*-k,E=(p-1)*-k,v=m=t.clientX,L=t.clientY,i.style.transition="",document.addEventListener("touchmove",X),document.addEventListener("touchend",Y),document.addEventListener("mousemove",X),document.addEventListener("mouseup",Y),s.classList.remove("grab"),s.classList.add("grabbing"))},X=e=>{let t=M(e),o=+i.style.transform.match(w)[0];if(_=m-t.clientX,m=t.clientX,f=L-t.clientY,L=t.clientY,!y&&!g){Math.abs(f)>11||0===_?(g=!0,b=!1):y=!0}if(y){if(0===p&&m>v)return void j(o,0);if(p===l.length-1&&m<v)return void j(o,A);if(b=!0,v>m&&o<S||v<m&&o>E)return void z();i.style.transform=`translate3d(${o-_}px, 0px, 0px)`}},Y=()=>{D(),h=Math.abs(v-m),g=!1,y=!1,document.removeEventListener("touchmove",X),document.removeEventListener("mousemove",X),document.removeEventListener("touchend",Y),document.removeEventListener("mouseup",Y),s.classList.add("grab"),s.classList.remove("grabbing"),b?(h>x&&(m>v?p--:m<v&&p++),m!==v?(b=!1,W()):b=!0):b=!0},j=(e,t)=>{e>=t&&(i.style.transform=`translate3d(${t}px, 0px, 0px)`),b=!1},z=()=>{q=!1,Y(),b=!0},I=e=>{const t=e.target.closest("button");if(t.classList.contains("slider__button-next"))p++;else{if(!t.classList.contains("slider__button-prev"))return;p--}W()};i.style.transform="translate3d(0px, 0px, 0px)",s.classList.add("grab"),i.addEventListener("transitionend",(()=>b=!0)),s.addEventListener("touchstart",T),s.addEventListener("mousedown",T),c.addEventListener("click",I),u.addEventListener("click",I),window.addEventListener("resize",(()=>{C()&&(p=0,W())}))};T({targetCssClass:"reviews__wrapper",swipeThreshold:.2,transitionDuration:.5}),T({targetCssClass:"price__slider",workScreenWidthMax:659,swipeThreshold:.2,transitionDuration:.1});
//# sourceMappingURL=script.min.js.map
