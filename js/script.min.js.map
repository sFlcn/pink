{"version":3,"sources":["script.js"],"names":["navMain","document","querySelector","menuToggle","classList","add","remove","addEventListener","contains","contestForm","contestFormSuccesPopup","contestFormFailurePopup","contestFormRequiredElements","querySelectorAll","i","length","removeAttribute","evt","missingRequired","console","log","value","scrollIntoView","preventDefault","succesPopupClose","failurePopupClose","window","keyCode","album","picturePopup","popupFullPicture","popupDownloadLink","popupCancel","thumbnails","hearts","likesNumber","addThumbnailClickHandler","thumbnail","photo","src","href","photoUrl","addLikesClickHandler","likeButton","counter","textContent","toggle","activeElement","blur","photoEditor","photoEditorTools","photoEditorRanges","addPhotoEditorToolsClickHandler","button","range","photoEditorImage","photoEditorOverlay","cropControl","fillControl","contrastControl","photoEditorReset","cropInputHandler","style","transform","fillInputHandler","opacity","contrastInputHandler","filter","photoEditorResetHandler","initSlider","targetCssClass","workScreenWidthMax","Infinity","swipeThreshold","transitionDuration","target","sliderWrapper","sliderList","slides","arrows","prev","next","markers","slideIndex","posInit","posX1","posX2","posY1","posY2","positionShift","isSwipe","isScroll","allowSwipe","transition","toNextTransform","toPrevTransform","transformValueRegExp","slideWidth","posThreshold","lastTrf","updateWidthData","offsetWidth","isNotWorkingScreenWidth","documentElement","clientWidth","updateSliderMarkers","newIndex","markerItem","getEvent","type","search","touches","slide","toggleAttribute","swipeStart","userEvt","clientX","clientY","swipeAction","swipeEnd","match","Math","abs","setTransform","reachEdge","removeEventListener","compareTransform","onArrowsClick","clickedButton","closest"],"mappings":"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","file":"script.min.js","sourcesContent":["'use strict';\n\n// Главное меню\nvar navMain = document.querySelector(\".main-nav\");\n  var menuToggle = document.querySelector(\".main-nav__menu-button\");\n\n  navMain.classList.add(\"main-nav--closed\");\n  navMain.classList.remove(\"main-nav--no-js\");\n\n  menuToggle.addEventListener(\"click\", function() {\n    if (navMain.classList.contains(\"main-nav--closed\")) {\n      navMain.classList.remove(\"main-nav--closed\");\n      navMain.classList.add(\"main-nav--opened\");\n    } else {\n      navMain.classList.add(\"main-nav--closed\");\n      navMain.classList.remove(\"main-nav--opened\");\n    }\n  });\n\n\n// Форма конкурса\nvar contestForm = document.querySelector(\".contest__form\");\nvar contestFormSuccesPopup = document.querySelector(\".popup--succes\");\nvar contestFormFailurePopup = document.querySelector(\".popup--failure\");\n\nif (contestForm && contestFormSuccesPopup && contestFormFailurePopup) {\n  var contestFormRequiredElements = contestForm.querySelectorAll(\"[required]\");\n\n  for (i = 0; i < contestFormRequiredElements.length; i++) {\n    contestFormRequiredElements[i].removeAttribute(\"required\");\n  }\n\n  contestForm.addEventListener(\"submit\", function (evt) {\n    var missingRequired = false;\n    for (i = contestFormRequiredElements.length - 1; i >= 0; i--) {\n      console.log(i);\n      contestFormRequiredElements[i].classList.remove(\"form__warning\");\n      if (!contestFormRequiredElements[i].value) {\n        missingRequired = true;\n        contestFormRequiredElements[i].classList.add(\"form__warning\");\n        contestFormRequiredElements[i].scrollIntoView();\n      }\n    }\n    if (missingRequired) {\n      evt.preventDefault();\n      contestFormFailurePopup.classList.add(\"popup--show\");\n    } else {\n      contestFormSuccesPopup.classList.add(\"popup--show\");\n      }\n  });\n\n  var succesPopupClose = contestFormSuccesPopup.querySelector(\".popup__submit\");\n  succesPopupClose.addEventListener(\"click\", function (evt) {\n    evt.preventDefault();\n    contestFormSuccesPopup.classList.remove(\"popup--show\");\n  });\n\n  var failurePopupClose = contestFormFailurePopup.querySelector(\".popup__submit\");\n  failurePopupClose.addEventListener(\"click\", function (evt) {\n    evt.preventDefault();\n    contestFormFailurePopup.classList.remove(\"popup--show\");\n  });\n\n  window.addEventListener(\"keydown\", function (evt) {\n    if (evt.keyCode === 27) {\n      evt.preventDefault();\n      if (contestFormSuccesPopup.classList.contains(\"popup--show\") || contestFormFailurePopup.classList.contains(\"popup--show\")) {\n        contestFormSuccesPopup.classList.remove(\"popup--show\");\n        contestFormFailurePopup.classList.remove(\"popup--show\");\n      }\n    }\n  });\n}\n\n\n// фотоальбом\nvar album = document.querySelector(\".album\");\n\nif (album) {\n  var picturePopup = document.querySelector(\".popup--photo\");\n  var popupFullPicture = picturePopup.querySelector(\".popup__full-picture\");\n  var popupDownloadLink = picturePopup.querySelector(\".popup__download--file\");\n  var popupCancel = picturePopup.querySelector(\".popup__download--cancel\");\n  var thumbnails = album.querySelectorAll(\".album__photo-link\");\n  var hearts = album.querySelectorAll(\".likes__button\");\n  var likesNumber = album.querySelectorAll(\".likes__count\");\n\n  var addThumbnailClickHandler = function (thumbnail, photo) {\n    thumbnail.addEventListener(\"click\", function (evt) {\n      evt.preventDefault();\n      popupFullPicture.src = photo;\n      popupDownloadLink.href = photo;\n      picturePopup.classList.add(\"popup--show\");\n    });\n  };\n\n  for (var i = 0; i < thumbnails.length; i++) {\n    var photoUrl = thumbnails[i].href;\n    addThumbnailClickHandler(thumbnails[i], photoUrl);\n    popupCancel.addEventListener(\"click\", function (evt) {\n      evt.preventDefault();\n      picturePopup.classList.remove(\"popup--show\");\n    });\n  }\n\n  var addLikesClickHandler = function (likeButton, counter) {\n    likeButton.addEventListener(\"click\", function (evt) {\n      evt.preventDefault();\n      if (likeButton.classList.contains(\"likes__button--liked\")) {\n        counter.textContent--;\n      } else {\n        counter.textContent++;\n      }\n      likeButton.classList.toggle(\"likes__button--liked\");\n      document.activeElement.blur();\n    });\n  };\n\n  for (var i = 0; i < hearts.length; i++) {\n    addLikesClickHandler(hearts[i], likesNumber[i]);\n  }\n}\n\n\n// фоторедактор\nvar photoEditor = document.querySelector(\".photo-editor\");\n\nif (photoEditor) {\n  var photoEditorTools = photoEditor.querySelectorAll(\".photo-editor__tool\");\n  var photoEditorRanges = photoEditor.querySelectorAll(\".photo-editor__range\");\n\n  var addPhotoEditorToolsClickHandler = function (button, range) {\n    button.addEventListener(\"click\", function (evt) {\n      evt.preventDefault();\n      for (var i = 0; i < photoEditorTools.length; i++) {\n        photoEditorTools[i].classList.remove(\"photo-editor__tool--current\");\n        photoEditorRanges[i].classList.remove(\"photo-editor__range--current\");\n      }\n      button.classList.add(\"photo-editor__tool--current\");\n      range.classList.add(\"photo-editor__range--current\");\n      document.activeElement.blur();\n    });\n  };\n\n  for (var i = 0; i < photoEditorTools.length; i++) {\n    addPhotoEditorToolsClickHandler(photoEditorTools[i], photoEditorRanges[i]);\n  }\n}\n\nconst photoEditorImage = document.querySelector('.photo-editor__image');\nconst photoEditorOverlay = document.querySelector('.photo-editor__image-overlay');\nconst cropControl = document.querySelector('.photo-editor__range--crop input');\nconst fillControl = document.querySelector('.photo-editor__range--fill input');\nconst contrastControl = document.querySelector('.photo-editor__range--contrast input');\nconst photoEditorReset = document.querySelector('.photo-editor__button--reset');\n\nconst cropInputHandler = () => {\n  photoEditorImage.style.transform = `scale(${1 + 0.04 * cropControl.value})`;\n}\n\nconst fillInputHandler = () => {\n  photoEditorOverlay.style.opacity = (0.01 * fillControl.value);\n}\n\nconst contrastInputHandler = () => {\n  photoEditorImage.style.filter = `contrast(${(0.015 * contrastControl.value) + 0.25})`;\n}\n\nconst photoEditorResetHandler = () => {\n  cropControl.value = 0;\n  cropInputHandler();\n  fillControl.value = 0;\n  fillInputHandler();\n  contrastControl.value = 50;\n  contrastInputHandler();\n}\n\nif (cropControl && fillControl && contrastControl && photoEditorReset) {\n  cropControl.addEventListener('input', cropInputHandler);\n  fillControl.addEventListener('input', fillInputHandler);\n  contrastControl.addEventListener('input', contrastInputHandler);\n  photoEditorReset.addEventListener('click', photoEditorResetHandler);\n}\n\n// слайдер\nconst initSlider = ({\n    targetCssClass,\n    workScreenWidthMax = Infinity,\n    swipeThreshold = 0.3,\n    transitionDuration = 0.7\n  }) => {\n  const target = document.querySelector(`.${targetCssClass}`);\n  if (!target) {\n    return;\n  };\n  const sliderWrapper = target.querySelector('.slider__wrapper');\n  const sliderList = target.querySelector('.slider__list');\n  const slides = target.querySelectorAll('.slider__item');\n  const arrows = target.querySelectorAll('.slider__button');\n  const prev = arrows[0];\n  const next = arrows[1];\n  const markers = target.querySelectorAll('.slider__markers-item');\n  let slideIndex = 0;\n  let posInit = 0;\n  let posX1 = 0;\n  let posX2 = 0;\n  let posY1 = 0;\n  let posY2 = 0;\n  let positionShift = 0;\n  let isSwipe = false;\n  let isScroll = false;\n  let allowSwipe = true;\n  let transition = true;\n  let toNextTransform = 0;\n  let toPrevTransform = 0;\n  const transformValueRegExp = /([-0-9.]+(?=px))/;\n\n  let slideWidth;\n  let posThreshold;\n  let lastTrf;\n  const updateWidthData = () => {\n    slideWidth = slides[0].offsetWidth;\n    posThreshold = slideWidth * swipeThreshold;\n    lastTrf = (slides.length - 1) * slideWidth;\n  }\n\n  const isNotWorkingScreenWidth = () => {\n    return document.documentElement.clientWidth > workScreenWidthMax;\n  }\n\n  const updateSliderMarkers = (newIndex = 0) => {\n    for (const markerItem of markers) {\n      markerItem.classList.remove('slider__markers-item--current');\n    }\n    markers[newIndex].classList.add('slider__markers-item--current');\n  }\n  updateSliderMarkers();\n\n  const getEvent = (evt) => {\n    if (evt.type.search('touch') !== -1) {\n      return evt.touches[0];\n    } else {\n      return evt;\n    }\n  };\n\n  const slide = () => {\n    updateWidthData();\n    updateSliderMarkers(slideIndex);\n    if (transition) {\n      sliderList.style.transition = `transform ${transitionDuration}s ease-out`;\n    }\n    sliderList.style.transform = `translate3d(-${slideIndex * slideWidth}px, 0px, 0px)`;\n\n    prev.classList.toggle('slider__button--disabled', slideIndex === 0);\n    prev.toggleAttribute('disabled', slideIndex === 0);\n    next.classList.toggle('slider__button--disabled', slideIndex === (slides.length - 1));\n    next.toggleAttribute('disabled', slideIndex === (slides.length - 1));\n  };\n\n  const swipeStart = (evt) => {\n    updateWidthData();\n    if (isNotWorkingScreenWidth()) {\n      return;\n    }\n    let userEvt = getEvent(evt);\n\n    if (allowSwipe) {\n      transition = true;\n      toNextTransform = (slideIndex + 1) * -slideWidth;\n      toPrevTransform = (slideIndex - 1) * -slideWidth;\n\n      posInit = posX1 = userEvt.clientX;\n      posY1 = userEvt.clientY;\n\n      sliderList.style.transition = '';\n\n      document.addEventListener('touchmove', swipeAction);\n      document.addEventListener('touchend', swipeEnd);\n      document.addEventListener('mousemove', swipeAction);\n      document.addEventListener('mouseup', swipeEnd);\n\n      sliderWrapper.classList.remove('grab');\n      sliderWrapper.classList.add('grabbing');\n    }\n  };\n\n  const swipeAction = (evt) => {\n    let userEvt = getEvent(evt);\n    let transform = +(sliderList.style.transform.match(transformValueRegExp)[0]);\n\n    posX2 = posX1 - userEvt.clientX;\n    posX1 = userEvt.clientX;\n    posY2 = posY1 - userEvt.clientY;\n    posY1 = userEvt.clientY;\n\n    if (!isSwipe && !isScroll) {\n      let posY = Math.abs(posY2);\n      if (posY > 11 || posX2 === 0) {\n        isScroll = true;\n        allowSwipe = false;\n      } else {\n        isSwipe = true;\n      }\n    }\n\n    if (isSwipe) {\n      if ((slideIndex === 0 && posX1 > posInit)) {\n        setTransform(transform, 0);\n        return;\n      } else if (slideIndex === (slides.length - 1) && posX1 < posInit) {\n        setTransform(transform, lastTrf);\n        return;\n      } else {\n        allowSwipe = true;\n      }\n\n      if (posInit > posX1 && transform < toNextTransform || posInit < posX1 && transform > toPrevTransform) {\n        reachEdge();\n        return;\n      }\n\n      sliderList.style.transform = `translate3d(${transform - posX2}px, 0px, 0px)`;\n    }\n  };\n\n  const swipeEnd = () => {\n    updateWidthData();\n    positionShift = Math.abs(posInit - posX1);\n    isScroll = false;\n    isSwipe = false;\n    document.removeEventListener('touchmove', swipeAction);\n    document.removeEventListener('mousemove', swipeAction);\n    document.removeEventListener('touchend', swipeEnd);\n    document.removeEventListener('mouseup', swipeEnd);\n    sliderWrapper.classList.add('grab');\n    sliderWrapper.classList.remove('grabbing');\n\n    if (allowSwipe) {\n      if (positionShift > posThreshold) {\n        if (posX1 > posInit) {\n          slideIndex--;\n        } else if (posX1 < posInit) {\n          slideIndex++;\n        }\n      }\n\n      if (posX1 !== posInit) {\n        allowSwipe = false;\n        slide();\n      } else {\n        allowSwipe = true;\n      }\n\n    } else {\n      allowSwipe = true;\n    }\n  };\n\n  const setTransform = (transform, compareTransform) => {\n    if (transform >= compareTransform) {\n      sliderList.style.transform = `translate3d(${compareTransform}px, 0px, 0px)`;\n    }\n    allowSwipe = false;\n  };\n\n  const reachEdge = () => {\n    transition = false;\n    swipeEnd();\n    allowSwipe = true;\n  };\n\n  const onArrowsClick = (evt) => {\n    const clickedButton = evt.target.closest('button');\n    if (clickedButton.classList.contains('slider__button-next')) {\n      slideIndex++;\n    } else if (clickedButton.classList.contains('slider__button-prev')) {\n      slideIndex--;\n    } else {\n      return;\n    }\n    slide();\n  }\n\n  sliderList.style.transform = 'translate3d(0px, 0px, 0px)';\n  sliderWrapper.classList.add('grab');\n\n  sliderList.addEventListener('transitionend', () => allowSwipe = true);\n  sliderWrapper.addEventListener('touchstart', swipeStart);\n  sliderWrapper.addEventListener('mousedown', swipeStart);\n  prev.addEventListener('click', onArrowsClick);\n  next.addEventListener('click', onArrowsClick);\n\n  window.addEventListener('resize', () => {\n    if (isNotWorkingScreenWidth()) {\n      slideIndex = 0;\n      slide();\n    }\n  });\n}\n\ninitSlider({\n  targetCssClass: 'reviews__wrapper',\n  swipeThreshold: 0.2,\n  transitionDuration: 0.5,\n});\n\ninitSlider({\n  targetCssClass: 'price__slider',\n  workScreenWidthMax: 659,\n  swipeThreshold: 0.2,\n  transitionDuration: 0.1,\n});\n"]}